# 多线程

- 线程：是操作系统能够进行运算调度的最小单位，他被包含在进程之中，是进程中的实际运作单位
- 进程：进程是程序的基本执行实体

## 多线程的应用场景

- 耗时的操作
- 加载大量资源文件
- 拷贝、迁移大文件

## 总结

### 什么是多线程

- 有了多线程，程序可以同时做多件事情

### 多线程的作用

- 提高效率

### 多线程的具体应用场景

- 只要你想让多个事情同时运行就需要用到多线程

## 并发和并行

- 并发：在同一时刻，有多个指令在单个cpu上交替执行
- 并行：在同一时刻，有多个指令在多个cpu上同时执行

## 多线程的实现方式

### 继承Thread类的方式进行实现

- 自定义一个类继承Thread
- 重写run方法
- 创建子类的对象，并启动线程

### 实现Runnable接口的方式进行实现

- 自己定义一个类实现Runnable接口
- 重写里面的run方法
- 创建自己的类的对象
- 创建一个Thread类的对象，并开启线程

### 利用Callable接口和Future接口方式实现

- 特点：可以获取到多线程运行的结果
- 创建一个类MyCallable实现Callable接口
- 重写call （是有返回值的，表示多线程运行结果
- 创建MyCallable对象，表示多线程要执行的任务
- 创建FutureTask对象，表示管理多线程运行的结果
- 创建Thread类的对象，并启动（表示线程）

### 三种方式对比

||优点|缺点|
|-|-|-|
|继承Thread类|编程比较简单，可以直接使用Thread类中的方法|可扩展性较差，不能再继承其他类|
|实现Runnable接口|扩展性强，实现该接口的同时还可以继承其他的类|编程相对复杂，不能直接使用Thread类中的方法|
|实现Callable接口|同上|同上|

## 常见的成员方法

|方法名称|说明|
|-|-|
|String getName()|返回此线程的名称|
|void setName(String name)|设置吸纳成的名称|
|static Thread currentThread()|获取当前线程对象|
|static void sleep(long time)|让线程休眠指定的时间|
|setPriority(int newPriority)|设置线程的优先级|
|final int getPriority()|获取线程的优先级|
|final void setDaemon(boolean on)|设置为守护线程|
|public static void yield()|出让线程/礼让线程|
|public static void join()|插入线程/插队线程|

## 线程安全的问题

### 同步代码块

- 把操作共享数据的代码锁起来
- synchronized
