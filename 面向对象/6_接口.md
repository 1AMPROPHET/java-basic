# 接口

- 接口就是一种规则

## 接口的定义和使用

- 使用关键字 interface 来定义
- 接口不能实例化
- 接口和类之间是实现关系，通过 implements关键字表示
- 接口的子类
  - 要么重写接口中的所有抽象方法
  - 要么是抽象类

## 接口中成员变量的特点

- 成员变量
  - 只能是常量
  - 默认修饰符：public static final
- 构造方法
  - 无
- 成员方法
  - 只能是抽象方法
  - 默认修饰符：public abstract
- JDK7以前：只能定义抽象方法
- JDK8新特性：可以定义有方法体的方法
- JDK9的新特性：接口中可以定义私有方法

## JDK8 以后接口中新增的方法

- 允许在接口中定义默认方法，需要使用关键字 default 修饰
  - 作用：解决接口升级的问题
- 接口中默认方法的定义格式
  - public default 返回值类型 方法名（参数列表）{}

- 接口默认方法的注意事项
  - 默认方法不是抽象方法，所以不强制被重写。但是如果被重写，重写的时候去掉default关键字
  - public 可以省略，default 不能省略
  - 如果实现了多个接口，多个接口中存在相同名字的默认方法，子类就必须对该方法进行重写

## JDK9新增的方法

- 接口私有方法的定义格式
  - private 返回值类型 方法名（参数）{}
  - private static 返回值类型 方法名（参数）{}

## 接口的应用

- 接口代表规则，是行为的抽象。想让哪个类拥有一个行为，就让这个类实现对应的接口就可以了
- 当一个方法的参数是接口时，可以传递接口所有实现类的对象，这种方式成为接口多态


## 适配器

- 当一个接口中抽象方法过多，但是我只要使用其中一部分的时候，就可以使用适配器模式
- 书写步骤
  - 编写中间类xxxAdapter，实现对应的接口
  - 对接口中的抽象类方法进行空实现
  - 让真正的实现类继承中间类，并重写需要的方法
  - 为了避免其他类创建适配器类的对象，中间的适配器类用abstract进行修饰