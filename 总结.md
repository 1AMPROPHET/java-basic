# java 面向对象

## static

### static 表示静态，是java中的一个修饰符，可以修饰成员方法，成员变量

- 被 static 修饰的成员变量，叫静态变量
- 特点
  - 该类被所有对象共享
  - 不属于对象，属于类
  - 随着类的加载而加载，优先于对象存在
- 调用方式
  - 类名调用（推荐）
  - 对象名调用

- 被 static 修饰的成员方法，叫做静态方法
- 特点
  - 多用在测试类和工具类中
  - javabean类中很少用
- 调用方式
  - 类名调用
  - 对象名调用

### static 注意事项

- 静态方法只能访问静态变量和静态方法
- 非静态方法可以访问静态变量或者静态方法，也可以访问非静态的成员变量和非静态的成员方法
- 静态方法中是没有this关键字的

## 继承

### 继承

- java 中提供的关键字 extends，使用这个关键字，我们可以让一个类与另一个类建立起继承关系

### 使用继承的好处

- 可以把多个子类中重复的代码抽取到父类中了，提高代码的复用性
- 子类可以在父类的基础上，增加其他功能，使子类更加强大

### 继承的特点

- java 中只支持单继承，不支持多继承
- java 中所有的类都直接或间接的继承于 Object 类
- 子类只能访问父类中非私有成员

### 子类能继承父类中哪些内容

- 构造方法：非私有不能，私有不能
- 成员变量：非私有能，私有能但不能用
- 成员方法：虚方法表能，否则不能

### 继承中成员变量的访问特点

- 就近原则：现在局部位置找，本类成员位置找，父类成员位置找，逐级向上
- this调用：就近原则
- super调用：直接找父类

### 方法的重写

- 当父类的方法不能满足子类现在的需求时，需要对方法进行重写
- 在继承体系中，子类出现了和父类中一模一样的方法声明，我们就称这个方法是重写的
- 子类重写的方法尽量跟父类中的方法保持一致
- 只有虚方法表里面的方法可以被重写

### 构造方法的访问特点

- 父类中的构造方法不会被子类继承
- 子类中所有构造方法默认先访问父类中的无参构造，再执行自己

## 多态

### 什么是多态

- 同类型的对象，表现出不同的形态

### 多态的前提

- 有继承关系
- 有父类引用指向子类对象
- 有方法重写

### 多态的好处

- 使用夫类型作为参数，可以接受所有子类对象
- 体现多态的扩展性与便利

### 多态调用成员的特点

- 变量调用：编译看左边（父类），运行也看左边
- 方法调用：编译看左边，运行看右边（子类）

### 多态的优势

- 在多态形势下，右边对象可以实现解耦合，便于扩展和维护

### 多态弊端

- 不能使用子类的特有功能

### 引用数据类型的类型转换，有几种方式

- 自动类型转换
- 强制类型转换

### 强制类型转换能解决什么问题

- 可以转换成真正的子类类型，从而调用子类独有功能
- 转换类型与真实类型不一致会出错
- 转换的时候用 instanceof 关键字进行判断

## 面向对象细节

### 包就是文件夹，用来管理不同功能的java类，方便代码维护

- 包名的规则：公司域名反写 + 包的作用

### 常量

- 实际开发中，常量一般作为系统的配置信息，方便维护，提高可读性
- 常量的命名规范
  - 单个单词：全部大写
  - 多个单词：全部大写，单词之间下划线

### 细节

- final 修饰的变量类型是基本类型：那么变量存储的数据值不能发生变化
- final 修饰的变量是引用类型：那么变量存储的地址值不能发生改变，对象内部的可以改变

## 权限修饰符

- 是用来控制一个成员能够被访问的范围的
- 可以修饰成员变量，方法，构造函数，内部类

- 有四种作用范围由小到大
  - private < 默认（空着）< protected < public

## 静态代码块

- 格式：static {}
- 特点：需要通过static关键字修饰，随着类的加载而加载，并且自动触发，只执行一次
- 使用场景：在类加载的时候，做一些数据初始化的时候使用

## 抽象方法

- 将共性的行为（方法）抽取到父类之后，由于每一个子类执行的内容是不一样的，所以，在父类中不能确定具体的方法体。该方法就可以定义为抽象方法
- 抽象类：如果一个类中存在抽象方法，那么该类就必须声明为抽象类

### 抽象类和抽象方法的注意事项

- 抽象类不能实例化
- 抽象类中不一定有抽象方法，有抽象方法的类一定是抽象类
- 可以有构造方法
- 抽象类的子类
  - 要么重写抽象类中的所有抽象方法
  - 要么是抽象类

## 接口

- 接口就是一种规则

### 接口的定义和使用

- 使用关键字 interface 来定义
- 接口不能实例化
- 接口和类之间是实现关系，通过 implements关键字表示
- 接口的子类
  - 要么重写接口中的所有抽象方法
  - 要么是抽象类

### 接口中成员变量的特点

- 成员变量
  - 只能是常量
  - 默认修饰符：public static final
- 构造方法
  - 无
- 成员方法
  - 只能是抽象方法
  - 默认修饰符：public abstract
- JDK7以前：只能定义抽象方法
- JDK8新特性：可以定义有方法体的方法
- JDK9的新特性：接口中可以定义私有方法

### JDK8 以后接口中新增的方法

- 允许在接口中定义默认方法，需要使用关键字 default 修饰
  - 作用：解决接口升级的问题
- 接口中默认方法的定义格式
  - public default 返回值类型 方法名（参数列表）{}

- 接口默认方法的注意事项
  - 默认方法不是抽象方法，所以不强制被重写。但是如果被重写，重写的时候去掉default关键字
  - public 可以省略，default 不能省略
  - 如果实现了多个接口，多个接口中存在相同名字的默认方法，子类就必须对该方法进行重写

### JDK9新增的方法

- 接口私有方法的定义格式
  - private 返回值类型 方法名（参数）{}
  - private static 返回值类型 方法名（参数）{}

### 接口的应用

- 接口代表规则，是行为的抽象。想让哪个类拥有一个行为，就让这个类实现对应的接口就可以了
- 当一个方法的参数是接口时，可以传递接口所有实现类的对象，这种方式成为接口多态


### 适配器

- 当一个接口中抽象方法过多，但是我只要使用其中一部分的时候，就可以使用适配器模式
- 书写步骤
  - 编写中间类xxxAdapter，实现对应的接口
  - 对接口中的抽象类方法进行空实现
  - 让真正的实现类继承中间类，并重写需要的方法
  - 为了避免其他类创建适配器类的对象，中间的适配器类用abstract进行修饰

## 内部类

- 内部类表示的实物是外部类的一部分
- 内部类单独出现没有任何意义
- 内部类访问的特点
  - 内部类可以直接访问外部类的成员，包括私有
  - 外部类要访问内部类的成员，必须创建对象

### 成员内部类

- 写在成员位置的，属于外部类的成员
- 成员内部类可以别一些修饰符所修饰，比如 private，默认，protected，public 等

### 获取成员内部对象的两种方式

- 当成员内部类被private修饰时，在外部类编写方法，对外提供内部类对象
- 当成员内部被非私有修饰时，直接创建对象

### 匿名内部类

- 隐藏了名字的内部类，可以写在成员位置，也可以写在局部位置
- 格式

```java
new xxxClass() {
  重写方法();
}
```
### 格式细节

- 包含了继承或者实现，方法重写，创建对象
- 整体就是一个类的子类对象或者接口的实现类对象

### 使用场景

- 当方法的参数是接口或者类时，以接口为例，可以传递这个接口的实现类对象，如果实现类只使用一次，就可以使用匿名内部类简化代码